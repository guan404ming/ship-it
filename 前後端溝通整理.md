# 前後端溝通整理文檔（最新版）

根據程式碼中的 TODO 註解整理出的前後端溝通需求點。

## 📋 概覽

本文檔記錄了系統中需要前後端協作的關鍵點，主要分為兩個方向：
- **前端 → 後端**：前端需要傳送資料到後端
- **後端 → 前端**：前端需要從後端獲取資料

## 🔄 前後端溝通點清單

### 1. 庫存管理 (Inventory)

**檔案位置**: `/app/(pages)/page.tsx`

**溝通內容**: 
```
// TODO: 前端需要從後端獲取庫存資料
```

**說明**: 主頁面需要從後端載入完整的庫存清單資料

---

### 2. 叫貨管理 (Purchase Management)

#### 2.1 叫貨資料獲取
**檔案位置**: `/app/(pages)/purchase-temp/client.tsx`

**溝通內容**: 
```
// TODO: 前端需要從後端獲取叫貨資料，目前使用假資料
```

**說明**: 叫貨頁面需要從後端載入所有叫貨批次的資料

#### 2.2 叫貨批次建立
**檔案位置**: `/components/purchase-import-dialog.tsx`

**溝通內容**: 
```
// TODO: 前端將叫貨批次資料送到後端
```

**說明**: 建立新的叫貨批次時，需要將批次資料傳送到後端儲存

---

### 3. 批量刪除功能

**檔案位置**: `/app/(pages)/client.tsx`

**溝通內容**: 
```
// TODO: 前端需要將刪除的項目 ID 送到後端
```

**說明**: 當使用者進行批量刪除操作時，需要將選中項目的 ID 陣列傳送到後端執行刪除

---

### 4. 匯入功能 (Upload)

#### 4.1 匯入歷史資料
**檔案位置**: `/app/(pages)/upload/client.tsx`

**溝通內容**: 
```
// TODO: [前後端溝通] 前端需要從後端獲取匯入歷史資料，目前使用假資料
```

**說明**: 匯入頁面需要顯示過往的匯入歷史記錄

#### 4.2 檔案匯入
**檔案位置**: `/app/(pages)/upload/client.tsx`

**溝通內容**: 
```
{/* TODO: 前端需要將檔案和匯入類型資料送到後端 */}
```

**說明**: 使用者上傳檔案時，需要將檔案內容和匯入類型（庫存/進貨/出貨）傳送到後端處理

#### 4.3 手動輸入資料
**檔案位置**: `/app/(pages)/upload/client.tsx`

**溝通內容**: 
```
{/* TODO: 前端需要將手動輸入的商品資料送到後端 */}
```

**說明**: 使用者手動輸入商品資料時，需要將表單資料傳送到後端儲存

---

### 5. 銷售歷史 (Sales History)

**檔案位置**: `/app/(pages)/history/client.tsx`

**溝通內容**: 
```
// TODO: 前端需要根據使用者輸入的時間範圍從後端獲取銷售歷史資料，目前使用假資料
```

**說明**: 根據使用者選擇的時間範圍，從後端獲取對應的銷售歷史資料

---

## 📊 資料流向整理

### 前端 → 後端 (Data Submission)
1. **叫貨批次建立** - 新叫貨批次資料
2. **批量刪除** - 要刪除的項目 ID 陣列
3. **檔案匯入** - 上傳的檔案 + 匯入類型
4. **手動輸入** - 手動輸入的商品資料

### 後端 → 前端 (Data Fetching)
1. **庫存清單** - 完整庫存資料
2. **叫貨資料** - 所有叫貨批次
3. **匯入歷史** - 過往匯入記錄
4. **銷售歷史** - 指定時間範圍的銷售資料
